<!doctype html>
<html lang="en">

  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS   -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="CSS/css.css">

    <title>Pollution Level Tutorial </title>

  </head>

  <style>
    .center {
      display: block;
      margin-left: auto;
      margin-right: auto;
      width: 50%;
    }

    .main-content {
      width: 100%;
      height: auto;
      padding: 0px;
      margin-top: 0px;
      margin-bottom: 0px;
      margin-left: auto;
      margin-right: auto;
    }

    .main-title h2 {
      font-weight: bold;
      text-align: left;
      font-size: 18px;
      text-transform: uppercase;
      padding-bottom: 5px;
      padding-top: 5px;
    }

    p {
      text-align: justify;
      width: 100%;
      padding-top: 5px;
    }

    a {
      padding-top: 5px;
    }

    a:hover {
      color: #005ab3;
    }

    img {
      border-radius: 8px;
      max-width: 100%;
      height: 100%;
    }

    .title-cont {
      width: 100%;
      font-weight: bold;
      text-align: left;
      color: #3c3c3c;
      border-bottom: 2px solid #ddd;
      padding-top: 5px;
      padding-bottom: 5px;
    }

    .discription-cont {
      width: 100%;
      text-align: left;
      padding-top: 5px;
    }

    .img-cont {
      width: 100%;
      text-align: left;
      border-radius: 8px;
      padding-top: 5px;
      padding-bottom: 5px;
    }

    .resource {
      font-weight: bold;
      width: 100%;
      padding-top: 5px;
    }

  </style>

  <body>

    <!--Start Navigation-->

    <nav class="navbar navbar-expand-md navbar-light bg-light sticky-top">
      <div class="container-fluid">
        <a class="navbar-brand" href="Overview.html"><b><i>Data Visualisation Solutions</b></i></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive">
    <span class="navbar-toggler-icon"></span>
  </button>

        <div class="collapse navbar-collapse" id="navbarResponsive">

          <ul class="navbar-nav ml-auto">

            <li class="nav-item active">
              <a class="nav-link" href="Overview.html">Overview</a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="Earthquakes Map.html">Earthquakes Map</a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="Weather Feed.html">Weather Feed</a>
            </li>



            <!-- Dropdown -->
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
        Visualisations
      </a>
              <div class="dropdown-menu">
                <a class="dropdown-item" href="Pollution Level.html">Pollution Level View</a>
                <a class="dropdown-item" href="Petition.html">Revoke Article 50 Petition</a>
                <a class="dropdown-item" href="Artist Top Songs.html">Artist Top Songs</a>
                <a class="dropdown-item" href="Population.html">World Population</a>
              </div>
            </li>


            <!-- Dropdown -->
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
       Tutorials
      </a>
              <div class="dropdown-menu">
                <a class="dropdown-item" href="Earthquake Map Tutorial.html">Earthquake Map Tutorial</a>
                <a class="dropdown-item" href="Weather Feed Tutorial.html">Weather Feed Tutorial</a>
                <a class="dropdown-item" href="Pollution Level Tutorial.html">Pollution Level View Tutorial</a>
                <a class="dropdown-item" href="Petition Tutorial.html">Revoke Article 50 Petition Tutorial</a>
                <a class="dropdown-item" href="Artist Top Songs Tutorial.html">Artist Top Songs Tutorial</a>
                <a class="dropdown-item" href="PopulationTutorial.html">Population Tutorial</a>
                <a class="dropdown-item" href="jstutorial.html">JavaScript Tutorial</a>
              </div>
            </li>



            <li class="nav-item">
              <a class="nav-link" href="About Authors.html">About Authors</a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="Contact Us.html">Contact Us</a>
            </li>


          </ul>
        </div>
    </nav>

    <!--CONTENT FOR POLLUTION PAGE TUTORIAL-->
    <div class="container">
      <div class="jumbotron text-center m-t-6">

        <div class="main-cont">
          <div class="main-title">
            <h1><b>CO2 Emissions Map Tutorial Page</b></h1>
          </div>
          <!--add title for your topic-->
          <div class="title-cont"><i>Visualisation Source</i></div>
          <div class="discription-cont">
            <p> For this solution, we chose to demonstrate hour ability to use a choropleth map to display useful data. A choropleth map is a thematic map in which areas are shaded or patterned in proportion to the measurement of the statistical variable
              being displayed on the map, such as population density or per-capita income. There were many different ways we could have chosen to do this, and many library techniques such as anychart which would have allowed us to implement this map.
              <p>We chose <a href="https://datamaps.github.io/">  Datamaps </a> - A single Javascript file which heavily uses d3.js to create Customizable SVG map visualizations for the web. </p>
              <br>
              <script async src="//jsfiddle.net/jsali7/pgjcuzse/6/embed/js,html,result/"></script>
              This basic example shows how a simple map can be loaded and perform different functions. We also see the use of the updateChoropleth() function which would allow us to update data for a different time period etc.
            </p>
          </div>
          <div class="title-cont"><i> Manipulating the data</i></div>
          <div class="discription-cont">
            <p> We decided to use the CO2 Emission data from the WorldBank API as seen <a href="https://data.worldbank.org/indicator/EN.ATM.CO2E.PC?end=2014&start=1960&view=chart"> here</a> The World Bank Indicators API provides access to nearly 16,000 time
              series indicators. o use the V2 API, you must place v2 in the call. For example:
              <p> <a href="http://api.worldbank.org/v2/country/all/indicator/SP.POP.TOTL">  http://api.worldbank.org/v2/country/all/indicator/SP.POP.TOTL </a> </p>
              I thought this was the most appropriate API as it includes useful endpoints such as date, country and idicator. </p>
            <p> To request the data I used AJAX. Ajax is short for Asynchronous JavaScript and XML and its often used in client side programming to allow data to be sent and received from a database. </p>
            For each year I created a new get request to the worldbank API.</p>
            <script async src="//jsfiddle.net/jsali7/0bojrxtw/12/embed/js,result/"></script>
            <p>The example above is a demonstration of how data can be loaded and manipulated into an object which the datamaps constructor will understand.
              <p> For every year we created a new AJAX request which we then took the iso3code and the data value (co2 emissions in that year) and stored it in an array. With a forEach() function we were able to loop through ever element in that array and
                format it in a way that our map can read it - for each iso3 code, the value becomes the assigned colour, and the co2 value.
                <p> The function to assign the colour is a simple conditional statement that returns a specific colour depending on the value. Therefore our Map will have different shades for countries with different values.</p>
                A request is made to the specified URL. We then take the result, and insert the data into arrays which will later be inserted onto the chart.</p>
          </div>
          <div class="title-cont"><i> Creating the map </i></div>
          <div class="discription-cont">
            <p> To ensure that all the ajax requests are completed before the chart is initiated, I create a new $(document).ajaxStop(function() which insures that this function is only called once all the data I want ready is loaded. Once all the data is
              set and ready we can make initialize the map using new Datamap as seen in one of the examples above, but in this case I used a dataset which i specified. In addition, I also added a legend using map.legend(); as specified in the datamaps
              documentation.
            </p>
          </div>
          <div class="title-cont"><i> Updating the chart </i></div>
          <div class="discription-cont">
            <p> A simple solution we decided for displaying a data for every year was using range sliders. We created a simple range slider using HTML5, CSS and Javascript to provide the functionality.
              <p> <code> &ltinput id="timeslide" type="range" min="0" max="10" value="0" class="slider" step="1" /> <br></code></p>
              The id was used in the script to create a set of functions to update the map depending on slider value.
              <script async src="//jsfiddle.net/jsali7/0bojrxtw/16/embed/js/"></script>
              The above example shows how we would update the map if the range slider was on 2001. Note that there is a clear function to ensure that the previous dataset on the map is cleared before entering new one.
            </p>
          </div>
          <div class="title-cont"><i> Finished visualisation</i></div>
          <div class="discription-cont">
            <img src="CSS/PollutionMapImage.png" alt="...">
          </div>
          <div class="title-cont"><i> Other sources</i></div>
          <div class="discription-cont">
            <p>
              <a href="https://github.com/markmarkoh/datamaps/blob/master/README.md#getting-started"> Datamaps documentation </a>
              <br>
              <a href="https://datahelpdesk.worldbank.org/knowledgebase/articles/889392-about-the-indicators-api-documentation"> Worldbank API Indicators documentation</a>
              <br>
              <a href="https://www.w3schools.com/howto/howto_js_rangeslider.asp"> w3 Rangeslider</a>
            </p>
          </div>

        </div>
      </div>
    </div>
  </body>
  <footer class="footer mt-auto py-3">
    <div class="container">
      <span class="text-muted"><center>© Copyright Group 13</center></span>
    </div>
  </footer>

</html>
